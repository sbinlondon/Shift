{"version":3,"file":"index.mjs","sources":["../src/optionType/index.js","../src/optionDefault/index.js"],"sourcesContent":["const optionType = option => {\n  if (typeof option === \"object\") {\n    if (typeof option.pct !== \"undefined\") return \"pct\";\n    if (typeof option.mm !== \"undefined\") return \"mm\";\n    if (typeof option.deg !== \"undefined\") return \"deg\";\n    if (typeof option.count !== \"undefined\") return \"count\";\n    if (typeof option.bool !== \"undefined\") return \"bool\";\n    if (typeof option.list !== \"undefined\") return \"list\";\n    return \"unknown\";\n  }\n\n  return \"constant\";\n};\n\nexport default optionType;\n","import optionType from '../optionType'\n\nconst optionDefault = (name, option, recipe) => {\n  let type = optionType(option)\n  // Default from recipe?\n  let fromRecipe = false\n  if (\n    recipe &&\n    typeof recipe.settings !== 'undefined' &&\n    typeof recipe.settings.options !== 'undefined' &&\n    typeof recipe.settings.options[name] !== 'undefined'\n  )\n    fromRecipe = true\n\n  switch (type) {\n    case 'constant':\n      return option\n      break\n    case 'list':\n      if (fromRecipe) return recipe.settings.options[name]\n      return option.dflt\n      break\n    default:\n      let factor = type === 'pct' ? 100 : 1\n      if (fromRecipe) return Math.round(10 * recipe.settings.options[name] * factor) / 10\n      else return option[type]\n      break\n  }\n}\n\nexport default optionDefault\n"],"names":["optionType","option","pct","mm","deg","count","bool","list","optionDefault","name","recipe","type","fromRecipe","settings","options","dflt","factor","Math","round"],"mappings":"AAAA,MAAMA,UAAU,GAAGC,MAAM,IAAI;AAC3B,MAAI,OAAOA,MAAP,KAAkB,QAAtB,EAAgC;AAC9B,QAAI,OAAOA,MAAM,CAACC,GAAd,KAAsB,WAA1B,EAAuC,OAAO,KAAP;AACvC,QAAI,OAAOD,MAAM,CAACE,EAAd,KAAqB,WAAzB,EAAsC,OAAO,IAAP;AACtC,QAAI,OAAOF,MAAM,CAACG,GAAd,KAAsB,WAA1B,EAAuC,OAAO,KAAP;AACvC,QAAI,OAAOH,MAAM,CAACI,KAAd,KAAwB,WAA5B,EAAyC,OAAO,OAAP;AACzC,QAAI,OAAOJ,MAAM,CAACK,IAAd,KAAuB,WAA3B,EAAwC,OAAO,MAAP;AACxC,QAAI,OAAOL,MAAM,CAACM,IAAd,KAAuB,WAA3B,EAAwC,OAAO,MAAP;AACxC,WAAO,SAAP;AACD;;AAED,SAAO,UAAP;AACD,CAZD;;MCEMC,aAAa,GAAG,CAACC,IAAD,EAAOR,MAAP,EAAeS,MAAf,KAA0B;AAC9C,MAAIC,IAAI,GAAGX,UAAU,CAACC,MAAD,CAArB,CAD8C;;AAG9C,MAAIW,UAAU,GAAG,KAAjB;AACA,MACEF,MAAM,IACN,OAAOA,MAAM,CAACG,QAAd,KAA2B,WAD3B,IAEA,OAAOH,MAAM,CAACG,QAAP,CAAgBC,OAAvB,KAAmC,WAFnC,IAGA,OAAOJ,MAAM,CAACG,QAAP,CAAgBC,OAAhB,CAAwBL,IAAxB,CAAP,KAAyC,WAJ3C,EAMEG,UAAU,GAAG,IAAb;;AAEF,UAAQD,IAAR;AACE,SAAK,UAAL;AACE,aAAOV,MAAP;;AAEF,SAAK,MAAL;AACE,UAAIW,UAAJ,EAAgB,OAAOF,MAAM,CAACG,QAAP,CAAgBC,OAAhB,CAAwBL,IAAxB,CAAP;AAChB,aAAOR,MAAM,CAACc,IAAd;;AAEF;AACE,UAAIC,MAAM,GAAGL,IAAI,KAAK,KAAT,GAAiB,GAAjB,GAAuB,CAApC;AACA,UAAIC,UAAJ,EAAgB,OAAOK,IAAI,CAACC,KAAL,CAAW,KAAKR,MAAM,CAACG,QAAP,CAAgBC,OAAhB,CAAwBL,IAAxB,CAAL,GAAqCO,MAAhD,IAA0D,EAAjE,CAAhB,KACK,OAAOf,MAAM,CAACU,IAAD,CAAb;AAXT;AAcD;;;;"}