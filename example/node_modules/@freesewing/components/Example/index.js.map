{"version":3,"file":"index.js","sources":["../src/Draft/Svg/index.js","../src/Draft/Defs/index.js","../src/Draft/TextOnPath/index.js","../src/Draft/DesignPath/index.js","../src/Draft/utils.js","../src/Draft/Path/index.js","../src/Draft/DesignPoint/index.js","../src/Draft/Text/index.js","../src/Draft/Circle/index.js","../src/Draft/Point/index.js","../src/Draft/Snippet/index.js","../src/Draft/Part/index.js","../src/Draft/index.js","../src/Workbench/Design/index.js","../src/Example/index.js"],"sourcesContent":["import React from 'react'\n\nconst Svg = ({\n  embed = true,\n  design = false,\n  language = 'en',\n  className = 'freesewing draft',\n  style = {},\n  viewBox = false,\n  width,\n  height,\n  children\n}) => {\n  let attributes = {\n    xmlns: 'http://www.w3.org/2000/svg',\n    'xmlns:svg': 'http://www.w3.org/2000/svg',\n    xmlnsXlink: 'http://www.w3.org/1999/xlink',\n    xmlLang: language,\n    viewBox: viewBox || `0 0 ${width} ${height}`,\n    className,\n    style\n  }\n\n  if (!embed) {\n    attributes.width = width + 'mm'\n    attributes.height = height + 'mm'\n  }\n  if (design) attributes.className += ' design'\n\n  return <svg {...attributes}>{children}</svg>\n}\n\nexport default Svg\n","import React from 'react'\n\nconst style = ` style=\"fill: none; stroke: currentColor;\" `\nconst grids = {\n  imperial: `\n      <pattern id=\"grid\" height=\"25.4\" width=\"25.4\" patternUnits=\"userSpaceOnUse\" key=\"grid\">\n        <path class=\"gridline lg imperial\" d=\"M 0 0 L 0 25.4 L 25.4 25.4\" ${style} />\n        <path\n          class=\"gridline lg imperial\"\n          d=\"M 12.7 0 L 12.7 25.4 M 0 12.7 L 25.4 12.7\"\n          ${style}\n        />\n        <path\n          class=\"gridline sm imperial\"\n          d=\"M 3.175 0 L 3.175 25.4 M 6.32 0 L 6.35 25.4 M 9.525 0 L 9.525 25.4 M 15.875 0 L 15.875 25.4 M 19.05 0 L 19.05 25.4 M 22.225 0 L 22.225 25.4\"\n          ${style}\n        />\n        <path\n          class=\"gridline sm imperial\"\n          d=\"M 0 3.175 L 25.4 3.175 M 0 6.32 L 25.4 6.35 M 0 9.525 L 25.4 9.525 M 0 15.875 L 25.4 15.875 M 0 19.05 L 25.4 19.05 M 0 22.225 L 25.4 22.225\"\n          ${style}\n        />\n      </pattern>\n      `,\n  metric: `\n      <pattern id=\"grid\" height=\"100\" width=\"100\" patternUnits=\"userSpaceOnUse\" key=\"grid\">\n        <path class=\"gridline lg metric\" d=\"M 0 0 L 0 100 L 100 100\" ${style} />\n        <path class=\"gridline metric\" d=\"M 50 0 L 50 100 M 0 50 L 100 50\" ${style} />\n        <path\n          class=\"gridline sm metric\"\n          d=\"M 10 0 L 10 100 M 20 0 L 20 100 M 30 0 L 30 100 M 40 0 L 40 100 M 60 0 L 60 100 M 70 0 L 70 100 M 80 0 L 80 100 M 90 0 L 90 100\"\n          ${style}\n        />\n        <path\n          class=\"gridline sm metric\"\n          d=\"M 0 10 L 100 10 M 0 20 L 100 20 M 0 30 L 100 30 M 0 40 L 100 40 M 0 60 L 100 60 M 0 70 L 100 70 M 0 80 L 100 80 M 0 90 L 100 90\"\n          ${style}\n        />\n        <path\n          class=\"gridline xs metric\"\n          d=\"M 5 0 L 5 100 M 15 0 L 15 100 M 25 0 L 25 100 M 35 0 L 35 100 M 45 0 L 45 100 M 55 0 L 55 100 M 65 0 L 65 100 M 75 0 L 75 100 M 85 0 L 85 100 M 95 0 L 95 100\"\n          ${style}\n        />\n        <path\n          class=\"gridline xs metric\"\n          d=\"M 0 5 L 100 5 M 0 15 L 100 15 M 0 25 L 100 25 M 0 35 L 100 35 M 0 45 L 100 45 M 0 55 L 100 55 M 0 65 L 100 65 M 0 75 L 100 75 M 0 85 L 100 85 M 0 95 L 100 95\"\n          ${style}\n        />\n      </pattern>\n  `\n}\n\nconst Defs = (props) => {\n  let defs = props.svg.defs\n  if (props.settings.paperless) {\n    defs += grids[props.settings.units || 'metric']\n    for (let p in props.parts) {\n      let anchor = { x: 0, y: 0 }\n      if (typeof props.parts[p].points.gridAnchor !== 'undefined')\n        anchor = props.parts[p].points.gridAnchor\n      else if (typeof props.parts[p].points.anchor !== 'undefined')\n        anchor = props.parts[p].points.anchor\n\n      defs += `<pattern id=\"grid-${p}\" key=\"grid-${p}\" xlink:href=\"#grid\" x=\"${anchor.x}\" y=\"${anchor.y}\" />`\n    }\n  }\n\n  return <defs dangerouslySetInnerHTML={{ __html: defs }} />\n}\n\nexport default Defs\n","import React from 'react'\nimport { strings } from '@freesewing/i18n'\n\nconst TextOnPath = (props) => {\n  let text = []\n  // Handle translation\n  let translated = ''\n  for (let string of props.path.attributes.getAsArray('data-text')) {\n    if (strings[props.language]['plugin.' + string])\n      translated += strings[props.language]['plugin.' + string]\n    else translated += string.toString().replace(/&quot;/g, '\"')\n    translated += ' '\n  }\n  let textPathProps = {\n    xlinkHref: '#' + props.pathId,\n    startOffset: '0%'\n  }\n  let align = props.path.attributes.get('data-text-class')\n  if (align && align.indexOf('center') > -1) textPathProps.startOffset = '50%'\n  else if (align && align.indexOf('right') > -1) textPathProps.startOffset = '100%'\n\n  return (\n    <text>\n      <textPath {...textPathProps}>\n        <tspan {...props.path.attributes.asPropsIfPrefixIs('data-text-')}>{translated}</tspan>\n      </textPath>\n    </text>\n  )\n}\n\nexport default TextOnPath\n","import React from 'react'\n\nconst DesignPath = (props) => {\n  let output = []\n  let i = 0\n  let from = null\n  for (let op of props.path.ops) {\n    let key = props.part + props.name + i\n    if (op.type === 'curve') {\n      output.push(\n        <path\n          key={key + 'cp1'}\n          d={`M ${from.x},${from.y} L ${op.cp1.x},${op.cp1.y}`}\n          className=\"design path cp\"\n        />\n      )\n      i++\n      output.push(\n        <path\n          key={key + 'cp2'}\n          d={`M ${op.to.x},${op.to.y} L ${op.cp2.x},${op.cp2.y}`}\n          className=\"design path cp\"\n        />\n      )\n      i++\n      output.push(\n        <circle\n          key={key + 'cpcirc1'}\n          cx={op.cp1.x}\n          cy={op.cp1.y}\n          r={3.5}\n          className=\"design path cp\"\n        />\n      )\n      i++\n      output.push(\n        <circle\n          key={key + 'cpcirc2'}\n          cx={op.cp2.x}\n          cy={op.cp2.y}\n          r={3.5}\n          className=\"design path cp\"\n        />\n      )\n      from = op.to\n    } else if (op.type !== 'close') from = op.to\n  }\n  output.push(\n    <path\n      key={props.part + props.name + 'dpath'}\n      d={props.path.asPathstring()}\n      onClick={() =>\n        props.raiseEvent('path', {\n          path: props.path,\n          name: props.name,\n          part: props.part\n        })\n      }\n      className=\"design hovertrap\"\n    />\n  )\n  return output\n}\n\nexport default DesignPath\n","export const getProps = (obj) => {\n  /** I can't believe it but there seems to be no method on NPM todo this */\n  const cssKey = (key) => {\n    let chunks = key.split('-')\n    if (chunks.length > 1) {\n      key = chunks.shift()\n      for (let s of chunks) key += s.charAt(0).toUpperCase() + s.slice(1)\n    }\n\n    return key\n  }\n\n  const convert = (css) => {\n    let style = {}\n    let rules = css.split(';')\n    for (let rule of rules) {\n      let chunks = rule.split(':')\n      if (chunks.length === 2) style[cssKey(chunks[0].trim())] = chunks[1].trim()\n    }\n    return style\n  }\n\n  let rename = {\n    class: 'className',\n    'marker-start': 'markerStart',\n    'marker-end': 'markerEnd'\n  }\n  let props = {}\n  for (let key in obj.attributes.list) {\n    if (key === 'style') props[key] = convert(obj.attributes.get(key))\n    if (Object.keys(rename).indexOf(key) !== -1) props[rename[key]] = obj.attributes.get(key)\n    else if (key !== 'style') props[key] = obj.attributes.get(key)\n  }\n\n  return props\n}\n","import React from 'react'\nimport TextOnPath from '../TextOnPath'\nimport DesignPath from '../DesignPath'\nimport { getProps } from '../utils'\n\nconst Path = (props) => {\n  if (!props.path.render) return null\n  const output = []\n  const pathId = 'path-' + props.part + '-' + props.name\n  if (props.design) output.push(<DesignPath {...props} key={'dpa-' + props.name} />)\n  output.push(\n    <path id={pathId} key={pathId} d={props.path.asPathstring()} {...getProps(props.path)} />\n  )\n  if (props.path.attributes.get('data-text'))\n    output.push(<TextOnPath key={'text-on-path-' + props.name} pathId={pathId} {...props} />)\n\n  return output\n}\n\nexport default Path\n","import React from 'react'\n\nconst DesignPoint = (props) => (\n  <g className={props.className}>\n    <circle cx={props.point.x} cy={props.point.y} r=\"2\" className=\"center\" />\n    <circle\n      cx={props.point.x}\n      cy={props.point.y}\n      r=\"7.5\"\n      className=\"hovertrap\"\n      onClick={() =>\n        props.raiseEvent('point', {\n          point: props.point,\n          name: props.name,\n          part: props.part\n        })\n      }\n    />\n  </g>\n)\n\nexport default DesignPoint\n","import React from 'react'\nimport { strings } from '@freesewing/i18n'\n\nconst Text = (props) => {\n  let text = []\n  // Handle translation\n  let translated = ''\n  for (let string of props.point.attributes.getAsArray('data-text')) {\n    if (strings[props.language]['plugin.' + string])\n      translated += strings[props.language]['plugin.' + string]\n    else translated += string.toString().replace(/&quot;/g, '\"')\n    translated += ' '\n  }\n  // Handle muti-line text\n  if (translated.indexOf('\\n') !== -1) {\n    let key = 0\n    let lines = translated.split('\\n')\n    text.push(<tspan key={'tspan-' + key}>{lines.shift()}</tspan>)\n    for (let line of lines) {\n      key++\n      text.push(\n        <tspan\n          key={'tspan-' + key}\n          x={props.point.x}\n          dy={props.point.attributes.get('data-text-lineheight') || 12}\n        >\n          {line.toString().replace(/&quot;/g, '\"')}\n        </tspan>\n      )\n    }\n  } else text.push(<tspan key=\"tspan-1\">{translated}</tspan>)\n\n  return (\n    <text\n      x={props.point.x}\n      y={props.point.y}\n      {...props.point.attributes.asPropsIfPrefixIs('data-text-')}\n    >\n      {text}\n    </text>\n  )\n}\n\nexport default Text\n","import React from 'react'\n\nconst Circle = (props) => (\n  <circle\n    cx={props.point.x}\n    cy={props.point.y}\n    r={props.point.attributes.get('data-circle')}\n    {...props.point.attributes.asPropsIfPrefixIs('data-circle-')}\n  />\n)\n\nexport default Circle\n","import React from 'react'\nimport DesignPoint from '../DesignPoint'\nimport Text from '../Text'\nimport Circle from '../Circle'\n\nconst Point = (props) => {\n  const output = []\n  if (props.design)\n    output.push(<DesignPoint {...props} key={'dp-' + props.name} className=\"design point\" />)\n  if (props.point.attributes && props.point.attributes.get('data-text'))\n    output.push(<Text {...props} key={'point-' + props.name} />)\n  if (props.point.attributes && props.point.attributes.get('data-circle'))\n    output.push(<Circle point={props.point} key={'circle-' + props.name} />)\n\n  return output.length < 1 ? null : output\n}\n\nexport default Point\n","import React from 'react'\nimport { getProps } from '../utils'\n\nconst Snippet = (props) => {\n  const snippetProps = {\n    xlinkHref: '#' + props.snippet.def,\n    x: props.snippet.anchor.x,\n    y: props.snippet.anchor.y\n  }\n  let scale = props.snippet.attributes.get('data-scale')\n  let rotate = props.snippet.attributes.get('data-rotate')\n  if (scale || rotate) {\n    snippetProps.transform = ''\n    if (scale) {\n      snippetProps.transform += `translate(${snippetProps.x}, ${snippetProps.y}) `\n      snippetProps.transform += `scale(${scale}) `\n      snippetProps.transform += `translate(${snippetProps.x * -1}, ${snippetProps.y * -1}) `\n    }\n    if (rotate) {\n      snippetProps.transform += `rotate(${rotate}, ${snippetProps.x}, ${snippetProps.y}) `\n    }\n  }\n\n  return <use {...snippetProps} {...getProps(props.snippet)} />\n}\n\nexport default Snippet\n","import React from 'react'\nimport Path from '../Path'\nimport Point from '../Point'\nimport Snippet from '../Snippet'\nimport { getProps } from '../utils'\n\nconst Part = (props) => {\n  const focusPoint = (point, i) => {\n    let p = props.part.points[point]\n    let pathString = `M ${p.x} ${props.part.topLeft.y} `\n    pathString += `L ${p.x} ${props.part.bottomRight.y} `\n    pathString += `M ${props.part.topLeft.x} ${p.y} `\n    pathString += `L ${props.part.bottomRight.x} ${p.y} `\n    let classes = 'focus point c' + (i % 4) // Cycle through 4 CSS classes\n    return (\n      <React.Fragment key={'fp' + point}>\n        <path d={pathString} className={classes} />\n        <circle\n          cx={p.x}\n          cy={p.y}\n          r=\"5\"\n          className={classes}\n          onClick={() =>\n            props.raiseEvent('clearFocus', {\n              part: props.name,\n              type: 'points',\n              name: point\n            })\n          }\n        />\n      </React.Fragment>\n    )\n  }\n\n  const focusCoords = (p, i) => {\n    let pathString = `M ${p.x} ${props.part.topLeft.y} `\n    pathString += `L ${p.x} ${props.part.bottomRight.y} `\n    pathString += `M ${props.part.topLeft.x} ${p.y} `\n    pathString += `L ${props.part.bottomRight.x} ${p.y} `\n    let classes = 'focus coords c' + (i % 4) // Cycle through 4 CSS classes\n    return (\n      <React.Fragment key={'cp' + i}>\n        <path d={pathString} className={classes} />\n        <circle\n          cx={p.x}\n          cy={p.y}\n          r=\"5\"\n          className={classes}\n          onClick={() =>\n            props.raiseEvent('clearFocus', {\n              part: props.name,\n              type: 'coords',\n              data: p\n            })\n          }\n        />\n      </React.Fragment>\n    )\n  }\n\n  let grid = props.paperless ? (\n    <rect\n      x={props.part.topLeft.x}\n      y={props.part.topLeft.y}\n      width={props.part.width}\n      height={props.part.height}\n      className=\"grid\"\n      fill={'url(#grid-' + props.name + ')'}\n    />\n  ) : null\n\n  let focus = []\n  if (props.design) {\n    if (props.focus && typeof props.focus[props.name] !== 'undefined') {\n      for (let i in props.focus[props.name].points)\n        focus.push(focusPoint(props.focus[props.name].points[i], i))\n      for (let i in props.focus[props.name].paths) {\n        let name = props.focus[props.name].paths[i]\n        focus.push(\n          <path\n            key={'fpa-' + name}\n            d={props.part.paths[name].asPathstring()}\n            className={'focus path c' + (i % 4)}\n            onClick={() =>\n              props.raiseEvent('clearFocus', {\n                part: props.name,\n                type: 'paths',\n                name\n              })\n            }\n          />\n        )\n      }\n      for (let i in props.focus[props.name].coords)\n        focus.push(focusCoords(props.focus[props.name].coords[i], i))\n    }\n  }\n\n  return (\n    <g {...getProps(props.part)} id={`part-${props.name}`}>\n      {grid}\n      {Object.keys(props.part.paths).map((name) => (\n        <Path\n          key={name}\n          name={name}\n          part={props.name}\n          language={props.language}\n          path={props.part.paths[name]}\n          focus={props.focus}\n          topLeft={props.part.topLeft}\n          bottomRight={props.part.bottomRight}\n          design={props.design}\n          raiseEvent={props.raiseEvent}\n        />\n      ))}\n      {Object.keys(props.part.points).map((name) => (\n        <Point\n          key={name}\n          name={name}\n          part={props.name}\n          language={props.language}\n          point={props.part.points[name]}\n          focus={props.focus}\n          topLeft={props.part.topLeft}\n          bottomRight={props.part.bottomRight}\n          design={props.design}\n          raiseEvent={props.raiseEvent}\n        />\n      ))}\n      {Object.keys(props.part.snippets).map((name) => (\n        <Snippet key={name} name={name} snippet={props.part.snippets[name]} />\n      ))}\n      {focus}\n    </g>\n  )\n}\n\nexport default Part\n","import React from 'react'\nimport Svg from './Svg'\nimport Defs from './Defs'\nimport Part from './Part'\n\nconst Draft = (props) => (\n  <Svg\n    embed={props.settings.embed}\n    width={props.width}\n    height={props.height}\n    language={props.settings.locale}\n    id={props.settings.idPrefix + 'svg'}\n    design={props.design || false}\n    style={props.style || {}}\n    viewBox={props.viewBox}\n    className={props.className || 'freesewing draft'}\n  >\n    <Defs {...props} />\n    <g>\n      {Object.keys(props.parts).map((name) => (\n        <Part\n          part={props.parts[name]}\n          language={props.settings.locale}\n          paperless={props.settings.paperless}\n          units={props.settings.units}\n          key={name}\n          name={name}\n          focus={props.focus || false}\n          design={props.design || false}\n          raiseEvent={props.raiseEvent}\n        />\n      ))}\n    </g>\n  </Svg>\n)\n\nexport default Draft\n","import React from 'react'\nimport IconButton from '@material-ui/core/IconButton'\nimport IsolateIcon from '@material-ui/icons/Search'\nimport CameraIcon from '@material-ui/icons/CameraAlt'\n\nconst Design = (props) => {\n  // Methods\n  const renderAttributes = (attr) => {\n    let list = []\n    for (let a in attr.list)\n      list.push(\n        <li key={a}>\n          <b>{a}</b>: {renderAttributeValue(attr.list[a])}\n        </li>\n      )\n\n    return <ul>{list}</ul>\n  }\n\n  const renderAttributeValue = (val) => {\n    if (Array.isArray(val)) {\n      if (val.length === 1) return val.pop()\n      let list = []\n      for (let v of val) list.push(<li key={v}>{v}</li>)\n      return <ul>{list}</ul>\n    }\n\n    return val\n  }\n\n  const round = (val) => Math.round(val * 10) / 10\n\n  if (!props.design || props.focus === null || Object.keys(props.focus).length < 1) return null\n  let info = []\n  for (let part of Object.keys(props.focus)) {\n    let points = []\n    let paths = []\n    for (let i in props.focus[part].paths) {\n      let name = props.focus[part].paths[i]\n      let path = props.parts[part].paths[name]\n      paths.push(\n        <li key={'patitle-' + name} className={'path c' + (i % 4)}>\n          path.<b>{name}</b>\n          <IconButton\n            size=\"small\"\n            onClick={() => console.log(`parts.${part}.paths.${name}:`, path)}\n          >\n            <CameraIcon />\n          </IconButton>\n          {path.attributes.length > 0 && (\n            <ul key={'ops-' + name}>\n              <li>\n                <b>attributes</b>: {renderAttributes(path.attributes)}\n              </li>\n            </ul>\n          )}\n        </li>\n      )\n    }\n    for (let i in props.focus[part].points) {\n      let name = props.focus[part].points[i]\n      let point = props.parts[part].points[name]\n      points.push(\n        <li key={'potitle-' + name} className={'point c' + (i % 4)}>\n          point.<b>{name}</b>\n          <IconButton\n            size=\"small\"\n            onClick={() => console.log(`parts.${part}.points.${name}:`, point)}\n          >\n            <CameraIcon />\n          </IconButton>\n          <ul key={'pdata-' + name}>\n            <li>\n              <b>x</b>: {round(point.x)}\n            </li>\n            <li>\n              <b>y</b>: {round(point.y)}\n            </li>\n            {point.attributes.length > 0 && (\n              <li>\n                <b>attributes</b>: {renderAttributes(point.attributes)}\n              </li>\n            )}\n          </ul>\n        </li>\n      )\n    }\n    info.push(\n      <li key={'part-' + part}>\n        parts.<b>{part}</b>\n        <IconButton onClick={() => props.raiseEvent('part', part)}>\n          <IsolateIcon />\n        </IconButton>\n        {points.length > 0 && <ul>{points}</ul>}\n        {paths.length > 0 && <ul>{paths}</ul>}\n      </li>\n    )\n  }\n\n  return (\n    <div className=\"design\">\n      <ul>{info}</ul>\n    </div>\n  )\n}\n\nexport default Design\n","import React, { useState } from 'react'\nimport examples from '@freesewing/examples'\nimport rendertest from '@freesewing/rendertest'\nimport tutorial from '@freesewing/tutorial'\nimport Draft from '../Draft'\nimport Design from '../Workbench/Design'\nimport IconButton from '@material-ui/core/IconButton'\nimport ResetIcon from '@material-ui/icons/SettingsBackupRestore'\nimport Switch from '@material-ui/core/Switch'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst PurpleSwitch = withStyles({\n  switchBase: {\n    color: '#868e96',\n    '&$checked': {\n      color: '#845ef7'\n    },\n    '&$checked + $track': {\n      backgroundColor: '#9775fa'\n    }\n  },\n  checked: {},\n  track: {\n    backgroundColor: '#868e96'\n  }\n})(Switch)\n\nconst Example = ({\n  pattern = 'examples',\n  design = true,\n  caption = '',\n  children=null,\n  options = {},\n  settings,\n  part = '',\n  sample\n}) => {\n  const [designMode, setDesignMode] = useState(false)\n  const [focus, setFocus] = useState(null)\n\n  if (caption) console.log('Passing the caption prop to @freesewing/components/Example is deprecated. See: https://github.com/freesewing/freesewing/issues/1043')\n\n  const raiseEvent = (type, data) => {\n    if (type === 'clearFocusAll') return setFocus(null)\n    let f = {}\n    if (focus !== null) f = { ...focus }\n    if (typeof f[data.part] === 'undefined') f[data.part] = { paths: [], points: [], coords: [] }\n    if (type === 'point') f[data.part].points.push(data.name)\n    else if (type === 'path') f[data.part].paths.push(data.name)\n    else if (type === 'coords') f[data.part].coords.push(data.coords)\n    else if (type === 'clearFocus') {\n      let i = focus[data.part][data.type].indexOf(data.name)\n      f[data.part][data.type].splice(i, 1)\n    }\n\n    setFocus(f)\n  }\n\n  let focusCount = 0\n  if (focus !== null) {\n    for (let p of Object.keys(focus)) {\n      for (let i in focus[p].points) focusCount++\n      for (let i in focus[p].paths) focusCount++\n      for (let i in focus[p].coords) focusCount++\n    }\n  }\n\n  const patterns = {\n    examples,\n    rendertest,\n    tutorial\n  }\n  settings = {\n    options: { ...options },\n    measurements: { head: 390 },\n    ...settings\n  }\n  if (part !== '') settings.only = [part]\n  const patternInstance = new patterns[pattern](settings)\n  if (sample) patternInstance.sample()\n  else patternInstance.draft()\n  const patternProps = patternInstance.getRenderProps()\n  return (\n    <figure className={designMode ? 'design example' : 'example'}>\n      <div className=\"example\">\n        <div className=\"actions\">\n          <IconButton\n            disabled={!designMode}\n            color=\"primary\"\n            onClick={() => raiseEvent('clearFocusAll', null)}\n          >\n            <ResetIcon />\n          </IconButton>\n          <PurpleSwitch\n            checked={designMode}\n            onChange={() => setDesignMode(!designMode)}\n            value={designMode}\n            color=\"primary\"\n            className=\"switch-accent\"\n          />\n        </div>\n        <Draft {...patternProps} design={designMode} focus={focus} raiseEvent={raiseEvent} />\n      </div>\n      <figcaption>{caption || children}</figcaption>\n      {designMode && (\n        <div className=\"design\">\n          <Design\n            focus={focus}\n            design={designMode}\n            raiseEvent={raiseEvent}\n            parts={patternProps.parts}\n          />\n        </div>\n      )}\n    </figure>\n  )\n}\n\nexport default Example\n"],"names":["Svg","embed","design","language","className","style","viewBox","width","height","children","attributes","xmlns","xmlnsXlink","xmlLang","React","grids","imperial","metric","Defs","props","defs","svg","settings","paperless","units","p","parts","anchor","x","y","points","gridAnchor","__html","TextOnPath","translated","path","getAsArray","string","strings","toString","replace","textPathProps","xlinkHref","pathId","startOffset","align","get","indexOf","asPropsIfPrefixIs","DesignPath","output","i","from","ops","op","key","part","name","type","push","cp1","to","cp2","asPathstring","raiseEvent","getProps","obj","cssKey","chunks","split","length","shift","s","charAt","toUpperCase","slice","convert","css","rules","rule","trim","rename","list","Object","keys","Path","render","DesignPoint","point","Text","text","lines","line","Circle","Point","Snippet","snippetProps","snippet","def","scale","rotate","transform","Part","focusPoint","pathString","topLeft","bottomRight","classes","focusCoords","data","grid","focus","paths","coords","map","snippets","Draft","locale","idPrefix","Design","renderAttributes","attr","a","renderAttributeValue","val","Array","isArray","pop","v","round","Math","info","IconButton","console","log","CameraIcon","IsolateIcon","PurpleSwitch","withStyles","switchBase","color","backgroundColor","checked","track","Switch","Example","pattern","caption","options","sample","useState","designMode","setDesignMode","setFocus","f","splice","patterns","examples","rendertest","tutorial","measurements","head","only","patternInstance","draft","patternProps","getRenderProps","ResetIcon"],"mappings":"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"}