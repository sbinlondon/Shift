{"version":3,"file":"index.js","sources":["../src/withLanguage/index.js"],"sourcesContent":["import React from 'react'\nimport { IntlProvider } from 'react-intl'\nimport { strings } from '@freesewing/i18n'\n\nconst withLanguage = (WrappedComponent, lang = 'en', store = false, translations = {}) => {\n  return class extends React.Component {\n    constructor(props) {\n      super(props)\n      this.strings = strings\n      this.setLanguage = this.setLanguage.bind(this)\n      this.addTranslations = this.addTranslations.bind(this)\n      this.state = {\n        language: lang,\n        strings: this.strings[lang]\n      }\n    }\n\n    setLanguage(l) {\n      this.setState({\n        language: l,\n        strings: this.strings[l]\n      })\n    }\n\n    addTranslations(translations) {\n      this.setState({\n        language: this.state.language,\n        strings: {\n          ...this.strings[this.state.language],\n          ...translations\n        }\n      })\n    }\n\n    render() {\n      return (\n        <IntlProvider\n          locale={this.state.language}\n          messages={{\n            ...this.state.strings,\n            ...translations\n          }}\n        >\n          <WrappedComponent\n            language={this.state.language}\n            setLanguage={this.setLanguage}\n            addTranslations={this.addTranslations}\n            {...this.props}\n          />\n        </IntlProvider>\n      )\n    }\n  }\n}\n\nexport default withLanguage\n"],"names":["withLanguage","WrappedComponent","lang","translations","props","strings","setLanguage","bind","addTranslations","state","language","l","setState","React","IntlProvider","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAIMA,YAAY,GAAG,SAAfA,YAAe,CAACC,gBAAD,EAAqE;AAAA,MAAlDC,IAAkD,uEAA3C,IAA2C;AAAA,MAAtBC,YAAsB,uEAAP,EAAO;AACxF;AAAA;;AAAA;;AACE,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,gCAAMA,KAAN;AACA,YAAKC,OAAL,GAAeA,YAAf;AACA,YAAKC,WAAL,GAAmB,MAAKA,WAAL,CAAiBC,IAAjB,+BAAnB;AACA,YAAKC,eAAL,GAAuB,MAAKA,eAAL,CAAqBD,IAArB,+BAAvB;AACA,YAAKE,KAAL,GAAa;AACXC,QAAAA,QAAQ,EAAER,IADC;AAEXG,QAAAA,OAAO,EAAE,MAAKA,OAAL,CAAaH,IAAb;AAFE,OAAb;AALiB;AASlB;;AAVH;AAAA;AAAA,aAYE,qBAAYS,CAAZ,EAAe;AACb,aAAKC,QAAL,CAAc;AACZF,UAAAA,QAAQ,EAAEC,CADE;AAEZN,UAAAA,OAAO,EAAE,KAAKA,OAAL,CAAaM,CAAb;AAFG,SAAd;AAID;AAjBH;AAAA;AAAA,aAmBE,yBAAgBR,YAAhB,EAA8B;AAC5B,aAAKS,QAAL,CAAc;AACZF,UAAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWC,QADT;AAEZL,UAAAA,OAAO,oCACF,KAAKA,OAAL,CAAa,KAAKI,KAAL,CAAWC,QAAxB,CADE,GAEFP,YAFE;AAFK,SAAd;AAOD;AA3BH;AAAA;AAAA,aA6BE,kBAAS;AACP,4BACEU,wCAACC,sBAAD;AACE,UAAA,MAAM,EAAE,KAAKL,KAAL,CAAWC,QADrB;AAEE,UAAA,QAAQ,oCACH,KAAKD,KAAL,CAAWJ,OADR,GAEHF,YAFG;AAFV,wBAOEU,wCAAC,gBAAD;AACE,UAAA,QAAQ,EAAE,KAAKJ,KAAL,CAAWC,QADvB;AAEE,UAAA,WAAW,EAAE,KAAKJ,WAFpB;AAGE,UAAA,eAAe,EAAE,KAAKE;AAHxB,WAIM,KAAKJ,KAJX,EAPF,CADF;AAgBD;AA9CH;;AAAA;AAAA,IAAqBS,yBAAK,CAACE,SAA3B;AAgDD;;;;"}