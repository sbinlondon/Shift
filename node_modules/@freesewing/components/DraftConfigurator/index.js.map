{"version":3,"file":"index.js","sources":["../src/.form/FormFieldSlider/index.js","../src/DraftConfigurator/OptionPreamble/index.js","../src/DraftConfigurator/PatternOptionPctDegCount/index.js","../src/DraftConfigurator/PatternOptionPercentage/index.js","../src/DraftConfigurator/PatternOptionDegree/index.js","../src/DraftConfigurator/PatternOptionMillimeter/index.js","../src/.form/FormFieldBool/index.js","../src/DraftConfigurator/PatternOptionBool/index.js","../src/.form/FormFieldList/index.js","../src/DraftConfigurator/PatternOptionList/index.js","../src/DraftConfigurator/PatternOptionCount/index.js","../src/DraftConfigurator/OptionSubGroup.js","../src/DraftConfigurator/OptionGroup/index.js","../src/DraftConfigurator/PatternOptions/index.js","../src/DraftConfigurator/DraftSettingSa/index.js","../src/DraftConfigurator/DraftSettingMargin/index.js","../src/DraftConfigurator/DraftSettingComplete/index.js","../src/DraftConfigurator/DraftSettingPaperless/index.js","../src/DraftConfigurator/DraftSettingAdvanced/index.js","../src/DraftConfigurator/DraftSettingDebug/index.js","../src/DraftConfigurator/DraftSettingUnits/index.js","../src/DraftConfigurator/DraftSettingLanguage/index.js","../src/.form/FormFieldChecks/index.js","../src/DraftConfigurator/DraftSettingOnly/index.js","../src/DraftConfigurator/DraftSettings/index.js","../src/DraftConfigurator/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport Slider from '@material-ui/core/Slider'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst PaddedSlider = withStyles({\n  container: {\n    padding: '25px 0'\n  },\n  track: { height: '4px' },\n  thumb: { width: '16px', height: '16px' }\n})(Slider)\n\nconst FormFieldSlider = ({\n  min = 0,\n  max = 100,\n  step = 0.1,\n  label = false,\n  updateValue,\n  name,\n  value\n}) => {\n  const [val, setVal] = useState(value)\n  useEffect(() => {\n    if (value !== val) setVal(value)\n  }, [value])\n\n  const update = (evt, newValue) => {\n    updateValue(name, newValue, evt)\n    setVal(newValue)\n  }\n\n  return (\n    <PaddedSlider\n      value={val}\n      min={min}\n      max={max}\n      step={step}\n      onChange={update}\n      onChangeCommitted={update}\n      classes={{\n        track: 'slider-track',\n        thumb: 'slider-thumb'\n      }}\n      aria-labelledby={label}\n    />\n  )\n}\n\nexport default FormFieldSlider\n","import React from 'react'\nimport IconButton from '@material-ui/core/IconButton'\nimport RightIcon from '@material-ui/icons/KeyboardArrowRight'\nimport ResetIcon from '@material-ui/icons/SettingsBackupRestore'\nimport { injectIntl } from 'react-intl'\n\nconst OptionPreamble = ({\n  intl,\n  title,\n  desc,\n  dflt,\n  designDflt,\n  option,\n  value,\n  displayValue,\n  displayFormat = 'node',\n  sameButDifferent,\n  expanded,\n  toggleExpanded,\n  reset,\n  designReset\n}) => {\n  const styles = {\n    container: {\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    left: {\n      flexGrow: 1,\n      margin: '0 0.5rem'\n    },\n    right: {\n      margin: '0 5px 0 0 ',\n      textAlign: 'right'\n    }\n  }\n\n  const resetLabel = intl.formatMessage({\n    id: 'app.restoreDefaults',\n    defaultMessage: ' ♻️  '\n  })\n  const resetDesignLabel = intl.formatMessage({\n    id: 'app.restoreDesignDefaults',\n    defaultMessage: ' ♻️  '\n  })\n  const resetPatternLabel = intl.formatMessage({\n    id: 'app.restorePatternDefaults',\n    defaultMessage: ' ♻️  '\n  })\n\n  let pattern = false\n  if (dflt !== designDflt) pattern = true\n  let displayClass = value === dflt ? 'dflt' : 'custom'\n  if (pattern && value === designDflt) displayClass = 'p-dflt'\n  else if (pattern && sameButDifferent) displayClass = 'custom'\n  let dspValue = <span className={displayClass}>{displayValue}</span>\n\n  if (displayFormat === 'html')\n    dspValue = <span className={displayClass} dangerouslySetInnerHTML={{ __html: displayValue }} />\n  return (\n    <React.Fragment>\n      <div onClick={toggleExpanded} style={styles.container}>\n        <div style={styles.left}>\n          <RightIcon className={'icon-col-exp ' + (expanded ? 'expanded' : 'collapsed')} />\n          {title}\n        </div>\n        <div style={styles.right}>{dspValue}</div>\n      </div>\n      <div className={expanded ? 'col-exp expanded' : 'col-exp collapsed'}>\n        <div style={styles.container}>\n          <div style={styles.left}>\n            <p>{desc}</p>\n          </div>\n          <div style={styles.right}>\n            {pattern ? (\n              <IconButton\n                title={resetDesignLabel}\n                aria-label={resetDesignLabel}\n                color=\"primary\"\n                disabled={value === designDflt ? true : false}\n                onClick={designReset}\n                className=\"mini-icon-btn pattern\"\n              >\n                <ResetIcon />\n              </IconButton>\n            ) : null}\n            <IconButton\n              title={pattern ? resetPatternLabel : resetLabel}\n              aria-label={pattern ? resetPatternLabel : resetLabel}\n              color=\"primary\"\n              disabled={value === dflt && !sameButDifferent ? true : false}\n              onClick={reset}\n              className={'mini-icon-btn' + (pattern ? ' pattern' : '')}\n            >\n              <ResetIcon />\n            </IconButton>\n          </div>\n        </div>\n        {option}\n      </div>\n    </React.Fragment>\n  )\n}\n\nexport default injectIntl(OptionPreamble)\n","import React, { useState } from 'react'\nimport FormFieldSlider from '../../.form/FormFieldSlider'\nimport OptionPreamble from '../OptionPreamble'\n\nconst PatternOptionPctDegCount = ({\n  min = 0,\n  max = 100,\n  step = 0.1,\n  type = 'pct',\n  updateValue,\n  name,\n  dflt,\n  designDflt,\n  title,\n  desc,\n  value,\n  raiseEvent,\n  noDocs\n}) => {\n  let factor = 1\n  if (type === 'pct') factor = 100\n  const round = (val) => Math.round(val * 10) / 10\n  const [val, setVal] = useState(value === null ? dflt : round(value * factor))\n  const [previousValue, setPreviousValue] = useState(value === null ? dflt : round(value * factor))\n  const [expanded, setExpanded] = useState(false)\n\n  const update = (name, newValue, evt) => {\n    newValue = round(newValue)\n    // Sometimes, when sliding, the rapid succession of updates\n    // causes a weird timing issue to result in a value that is NaN.\n    // If that's the case, just ignore this update and keep the\n    // previous one instead\n    if (!isNaN(newValue)) {\n      setVal(newValue)\n      if (evt.type !== 'mousemove') updateValue(name, newValue / factor)\n    } else {\n      if (evt.type !== 'mousemove') updateValue(name, value / factor)\n    }\n  }\n\n  const reset = () => {\n    setVal(dflt)\n    updateValue(name, dflt / factor)\n  }\n\n  const patternReset = () => {\n    setVal(designDflt)\n    updateValue(name, designDflt / factor)\n  }\n\n  const toggleExpanded = () => setExpanded(!expanded)\n\n  let unit = ''\n  if (type === 'pct') unit = '%'\n  if (type === 'deg') unit = '°'\n\n  let option = (\n    <FormFieldSlider\n      name={name}\n      value={val}\n      min={min}\n      max={max}\n      step={type === 'count' ? 1 : step}\n      onChange={update}\n      label={'po-' + type + '-' + name}\n      updateValue={update}\n    />\n  )\n\n  return (\n    <li className={expanded ? 'expanded' : 'collapsed'}>\n      <OptionPreamble\n        dflt={dflt}\n        designDflt={designDflt}\n        value={val}\n        desc={desc}\n        title={title}\n        id={'po-' + type + '-' + name}\n        displayValue={val + unit}\n        reset={reset}\n        patternReset={patternReset}\n        toggleExpanded={toggleExpanded}\n        expanded={expanded}\n        showHelp={() =>\n          raiseEvent('showHelp', {\n            type: 'patternOption',\n            value: name\n          })\n        }\n        option={option}\n        noDocs={noDocs}\n      />\n    </li>\n  )\n}\n\nexport default PatternOptionPctDegCount\n","import React from \"react\";\nimport PatternOptionPctDegCount from \"../PatternOptionPctDegCount\";\n\nexport default props => <PatternOptionPctDegCount {...props} type=\"pct\" />;\n","import React from \"react\";\nimport PatternOptionPctDegCount from \"../PatternOptionPctDegCount\";\n\nexport default props => <PatternOptionPctDegCount {...props} type=\"deg\" />;\n","import React, { useState } from 'react'\nimport sliderStep from '@freesewing/utils/sliderStep'\nimport roundMm from '@freesewing/utils/roundMm'\nimport roundMmUp from '@freesewing/utils/roundMmUp'\nimport roundMmDown from '@freesewing/utils/roundMmDown'\nimport formatMm from '@freesewing/utils/formatMm'\nimport FormFieldSlider from '../../.form/FormFieldSlider'\nimport OptionPreamble from '../OptionPreamble'\n\nconst PatternOptionMillimeter = ({\n  title = false,\n  desc = false,\n  units = 'metric',\n  min = 0,\n  max = 100,\n  updateValue,\n  name,\n  dflt,\n  value,\n  raiseEvent,\n  noDocs\n}) => {\n  const [val, setVal] = useState(value === null ? dflt : value)\n  const [previousValue, setPreviousValue] = useState(dflt)\n  const [expanded, setExpanded] = useState(false)\n\n  const update = (name, newValue, evt) => {\n    newValue = roundMm(newValue, units)\n    // Sometimes, when sliding, the rapid succession of updates\n    // causes a weird timing issue to result in a value that is NaN.\n    // If that's the case, just ignore this update and keep the\n    // previous one instead\n    if (!isNaN(newValue)) {\n      setVal(newValue)\n      if (evt.type !== 'mousemove') updateValue(name, newValue)\n    } else {\n      if (evt.type !== 'mousemove') updateValue(name, val)\n    }\n  }\n\n  const reset = () => {\n    setVal(dflt)\n    updateValue(name, dflt)\n  }\n\n  const toggleExpanded = () => setExpanded(!expanded)\n\n  let option = (\n    <FormFieldSlider\n      name={name}\n      value={val}\n      min={roundMmUp(min, units)}\n      max={roundMmDown(max, units)}\n      step={sliderStep[units]}\n      onChange={update}\n      label={'po-mm-' + name}\n      updateValue={update}\n    />\n  )\n\n  return (\n    <li className={expanded ? 'expanded' : 'collapsed'}>\n      <OptionPreamble\n        dflt={dflt}\n        value={val}\n        desc={desc}\n        title={title}\n        id={'po-mm-' + name}\n        displayValue={formatMm(val, units)}\n        displayFormat=\"html\"\n        reset={reset}\n        toggleExpanded={toggleExpanded}\n        expanded={expanded}\n        showHelp={() =>\n          raiseEvent('showHelp', {\n            type: 'patternOption',\n            value: name\n          })\n        }\n        option={option}\n        noDocs={noDocs}\n      />\n    </li>\n  )\n}\n\nexport default PatternOptionMillimeter\n","import React, { useState, useEffect } from 'react'\nimport Radio from '@material-ui/core/Radio'\nimport RadioGroup from '@material-ui/core/RadioGroup'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\n\nconst Bool = ({ dflt = false, labels = ['false', 'true'], value, name, updateValue }) => {\n  const [val, setVal] = useState(dflt)\n  useEffect(() => {\n    if (value !== val) setVal(value)\n  }, [value])\n  const toggle = () => {\n    updateValue(name, !val)\n    setVal(!val)\n  }\n\n  return (\n    <RadioGroup onChange={toggle} value={JSON.stringify(val)}>\n      <FormControlLabel\n        control={<Radio color=\"primary\" />}\n        value=\"false\"\n        checked={val === 'true' || val === true || val === 1 ? false : true}\n        label={labels[0]}\n        className=\"po-list-item\"\n      />\n      <FormControlLabel\n        control={<Radio color=\"primary\" />}\n        value=\"true\"\n        checked={val === 'true' || val === true || val === 1 ? true : false}\n        label={labels[1]}\n        className=\"po-list-item\"\n      />\n    </RadioGroup>\n  )\n}\n\nexport default Bool\n","import React, { useState } from 'react'\nimport FormFieldBool from '../../.form/FormFieldBool'\nimport OptionPreamble from '../OptionPreamble'\n\nconst PatternOptionBool = (props) => {\n  const [value, setValue] = useState(props.value === null ? props.dflt : props.value)\n  const [expanded, setExpanded] = useState(false)\n\n  const update = (name, newValue, evt) => {\n    props.updateValue(props.name, newValue)\n    setValue(newValue)\n  }\n\n  const reset = () => {\n    setValue(props.dflt)\n    props.updateValue(props.name, props.dflt)\n  }\n\n  const patternReset = () => {\n    setValue(props.designDflt)\n    props.updateValue(props.name, props.designDflt)\n  }\n\n  const toggleExpanded = () => setExpanded(!expanded)\n\n  let option = (\n    <FormFieldBool\n      name={props.name}\n      value={value}\n      dflt={props.dflt}\n      onChange={update}\n      label={'po-bool-' + props.name}\n      updateValue={update}\n      labels={props.labels}\n    />\n  )\n  return (\n    <li className={expanded ? 'expanded' : 'collapsed'}>\n      <OptionPreamble\n        dflt={props.dflt}\n        designDflt={props.designDflt}\n        value={value}\n        desc={props.desc}\n        title={props.title}\n        id={'po-list-' + props.name}\n        displayValue={value ? props.labels[1] : props.labels[0]}\n        toggleExpanded={toggleExpanded}\n        expanded={expanded}\n        reset={reset}\n        patternReset={patternReset}\n        showHelp={() =>\n          props.raiseEvent('showHelp', {\n            type: 'draftSetting',\n            value: props.name\n          })\n        }\n        option={option}\n        noDocs={props.noDocs}\n      />\n    </li>\n  )\n}\n\nexport default PatternOptionBool\n","import React, { useState, useEffect } from 'react'\nimport Radio from '@material-ui/core/Radio'\nimport RadioGroup from '@material-ui/core/RadioGroup'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\n\nconst FormFieldList = (props) => {\n  const [value, setValue] = useState(props.dflt)\n  useEffect(() => {\n    if (props.value !== value) setValue(props.value)\n  }, [props.value])\n  const update = (evt) => {\n    props.updateValue(props.name, evt.target.value)\n    setValue(evt.target.value)\n  }\n\n  return (\n    <RadioGroup onChange={update} value={value}>\n      {Object.keys(props.list).map((item, index) => (\n        <FormControlLabel\n          key={item}\n          control={<Radio color=\"primary\" />}\n          value={item}\n          checked={value === item ? true : false}\n          label={props.list[item]}\n          className=\"po-list-item\"\n        />\n      ))}\n    </RadioGroup>\n  )\n}\n\nexport default FormFieldList\n","import React, { useState } from 'react'\nimport FormFieldList from '../../.form/FormFieldList'\nimport OptionPreamble from '../OptionPreamble'\n\nconst PatternOptionList = (props) => {\n  const [value, setValue] = useState(props.dflt)\n  const [expanded, setExpanded] = useState(false)\n\n  const update = (name, newValue, evt) => {\n    props.updateValue(props.name, newValue)\n    setValue(newValue)\n  }\n\n  const reset = () => {\n    setValue(props.dflt)\n    props.updateValue(props.name, props.dflt)\n  }\n\n  const patternReset = () => {\n    setValue(props.designDflt)\n    props.updateValue(props.name, props.designDflt)\n  }\n\n  const toggleExpanded = () => setExpanded(!expanded)\n\n  // Add translations\n  let stringKey = `options.${props.pattern}.${props.name}.options.`\n  let list = {}\n  for (let item of props.list)\n    list[item] = props.intl.formatMessage({\n      id: stringKey + item,\n      defaultMessage: item\n    })\n  let option = (\n    <FormFieldList\n      name={props.name}\n      value={value}\n      dflt={props.dflt}\n      designDflt={props.designDflt}\n      onChange={update}\n      label={'po-list-' + props.name}\n      updateValue={update}\n      list={list}\n    />\n  )\n  return (\n    <li className={expanded ? 'expanded' : 'collapsed'}>\n      <OptionPreamble\n        dflt={props.dflt}\n        value={value}\n        desc={props.desc}\n        title={props.title}\n        id={'po-list-' + props.name}\n        displayValue={list[value]}\n        reset={reset}\n        patternReset={patternReset}\n        toggleExpanded={toggleExpanded}\n        expanded={expanded}\n        showHelp={() =>\n          props.raiseEvent('showHelp', {\n            type: 'patternOption',\n            value: props.name\n          })\n        }\n        option={option}\n        noDocs={props.noDocs}\n      />\n    </li>\n  )\n}\n\nexport default PatternOptionList\n","import React from \"react\";\nimport PatternOptionPctDegCount from \"../PatternOptionPctDegCount\";\n\nexport default props => <PatternOptionPctDegCount {...props} type=\"count\" />;\n","import React, { useState } from 'react'\nimport RightIcon from '@material-ui/icons/KeyboardArrowRight'\n\nconst OptionSubGroup = ({ title, children }) => {\n  const [open, setOpen] = useState(false)\n\n  return (\n    <li>\n      <span className=\"subheading\" onClick={() => setOpen(!open)}>\n        <RightIcon className={`icon-col-exp ${open ? 'expanded' : ''}`} />\n        {title}\n      </span>\n      {open && <ul className=\"config level-3\">{children}</ul>}\n    </li>\n  )\n}\n\nexport default OptionSubGroup\n","import React from 'react'\nimport Pct from '../PatternOptionPercentage'\nimport Deg from '../PatternOptionDegree'\nimport Mm from '../PatternOptionMillimeter'\nimport Bool from '../PatternOptionBool'\nimport List from '../PatternOptionList'\nimport Count from '../PatternOptionCount'\nimport optionType from '@freesewing/utils/optionType'\nimport optionDefault from '@freesewing/utils/optionDefault'\nimport { FormattedMessage } from 'react-intl'\nimport { injectIntl } from 'react-intl'\nimport OptionSubGroup from '../OptionSubGroup'\n\nconst OptionGroup = (props) => {\n  const renderOption = (name, sub = false) => {\n    let option = props.config.options[name]\n    let type = optionType(option)\n    let stringKey = `options.${props.config.name}.${name}.`\n    let extraProps = {\n      name,\n      dflt: optionDefault(name, props.config.options[name], props.pattern),\n      designDflt: optionDefault(name, props.config.options[name]),\n      units: props.units,\n      updateValue: props.updateValue,\n      raiseEvent: props.raiseEvent,\n      title: <FormattedMessage id={stringKey + 'title'} />,\n      desc: <FormattedMessage id={stringKey + 'description'} />,\n      intl: props.intl,\n      pattern: props.config.name,\n      key: name,\n      noDocs: props.noDocs\n    }\n    if (\n      typeof props.data !== 'undefined' &&\n      typeof props.data.settings !== 'undefined' &&\n      typeof props.data.settings.options !== 'undefined' &&\n      typeof props.data.settings.options[name] !== 'undefined'\n    )\n      extraProps.value = props.data.settings.options[name]\n    else extraProps.value = null\n\n    let noyes = [<FormattedMessage id=\"app.no\" />, <FormattedMessage id=\"app.yes\" />]\n    switch (type) {\n      case 'pct':\n        return <Pct {...option} {...extraProps} />\n        break\n      case 'deg':\n        return <Deg {...option} {...extraProps} />\n        break\n      case 'mm':\n        return <Mm {...option} {...extraProps} units={props.units} />\n        break\n      case 'bool':\n        return <Bool {...option} {...extraProps} labels={noyes} />\n        break\n      case 'list':\n        return <List {...option} {...extraProps} />\n        break\n      case 'count':\n        return <Count {...option} {...extraProps} />\n        break\n      default:\n        throw new Error('Unsupported option type: ' + type)\n    }\n  }\n\n  return (\n    <>\n      {props.options.map((name) => {\n        let output = []\n        if (typeof name === 'object') {\n          // Subgroup\n          for (let subGroup of Object.keys(name)) {\n            let children = []\n            for (let option of name[subGroup]) children.push(renderOption(option, true))\n            output.push(\n              <OptionSubGroup\n                title={<FormattedMessage id={'optiongroups.' + subGroup} />}\n                children={children}\n                key={subGroup}\n              />\n            )\n          }\n        } else output.push(renderOption(name))\n\n        return output\n      })}\n    </>\n  )\n}\n\nexport default injectIntl(OptionGroup)\n","import React, { useState } from 'react'\nimport OptionGroup from '../OptionGroup'\nimport { FormattedMessage } from 'react-intl'\nimport RightIcon from '@material-ui/icons/KeyboardArrowRight'\n\nconst PatternOptions = (props) => {\n  const [expanded, setExpanded] = useState([])\n  const toggleGroup = (group) => {\n    let shown = expanded.slice(0)\n    let index = shown.indexOf(group)\n    if (index === -1) shown.push(group)\n    else shown.splice(index, 1)\n    setExpanded(shown)\n  }\n\n  const renderGroup = (group) => {\n    let open = true\n    if (expanded.indexOf(group) === -1) open = false\n    let output = []\n    let children = null\n    if (expanded.indexOf(group) !== -1)\n      children = (\n        <ul className=\"config level-2\">\n          <OptionGroup\n            noDocs={props.noDocs}\n            key={group + '-group'}\n            units={props.units}\n            config={props.config}\n            data={props.data}\n            pattern={props.pattern}\n            options={props.config.optionGroups[group]}\n            updateValue={props.updateValue}\n            raiseEvent={props.raiseEvent}\n          />\n        </ul>\n      )\n    output.push(\n      <li className={open ? 'expanded' : 'collapsed'} key={group + '-ghead'}>\n        <span onClick={() => toggleGroup(group)}>\n          <RightIcon className={'icon-col-exp ' + (open ? 'expanded' : 'collapsed')} />\n          <FormattedMessage id={'optiongroups.' + group} />\n        </span>\n        {children}\n      </li>\n    )\n\n    return output\n  }\n\n  const children = []\n  for (let group in props.config.optionGroups) {\n    if (props.data.settings.advanced || group !== 'advanced') {\n      children.push(renderGroup(group))\n    }\n  }\n\n  return <ul className=\"config level-1\">{children}</ul>\n}\n\nexport default PatternOptions\n","import React, { useState } from 'react'\nimport FormFieldList from '../../.form/FormFieldList'\nimport FormFieldSlider from '../../.form/FormFieldSlider'\nimport formatMm from '@freesewing/utils/formatMm'\nimport roundMm from '@freesewing/utils/roundMm'\nimport defaultSa from '@freesewing/utils/defaultSa'\nimport sliderStep from '@freesewing/utils/sliderStep'\nimport OptionPreamble from '../OptionPreamble'\n\nconst DraftSettingSa = (props) => {\n  const [value, setValue] = useState(\n    props.value === defaultSa[props.units] ? 'dflt' : props.value === 0 ? 'none' : 'custom'\n  )\n  const [saValue, setSaValue] = useState(\n    props.value === null ? defaultSa[props.units] : props.value\n  )\n  const [customValue, setCustomValue] = useState(value === 'custom' ? props.value : 10)\n  const [expanded, setExpanded] = useState(false)\n\n  const update = (name, newValue, evt) => {\n    switch (newValue) {\n      case 'none':\n        props.updateValue('sa', 0)\n        setValue(newValue)\n        setSaValue(0)\n        break\n      case 'dflt':\n        props.updateValue('sa', defaultSa[props.units])\n        setValue(newValue)\n        setSaValue(defaultSa[props.units])\n        break\n      default:\n        props.updateValue('sa', customValue)\n        setValue(newValue)\n        setSaValue(customValue)\n        break\n    }\n  }\n\n  let saDfltToggle = 'dflt'\n  if (props.dflt === 0) saDfltToggle = 'none'\n  if (props.dflt !== 10) saDfltToggle = 'custom'\n\n  const reset = () => {\n    setValue(saDfltToggle)\n    setSaValue(props.dflt)\n    props.updateValue('sa', props.dflt)\n  }\n  const patternReset = () => {\n    setValue('dflt')\n    setSaValue(defaultSa[props.units])\n    props.updateValue('sa', defaultSa[props.units])\n  }\n  const toggleExpanded = () => setExpanded(!expanded)\n\n  const updateCustom = (name, newValue, evt) => {\n    newValue = roundMm(newValue)\n    // Sometimes, when sliding, the rapid succession of updates\n    // causes a weird timing issue to result in a value that is NaN.\n    // If that's the case, just ignore this update and keep the\n    // previous one instead\n    if (!isNaN(newValue)) {\n      setSaValue(newValue)\n      setCustomValue(newValue)\n      if (evt.type !== 'mousemove') props.updateValue('sa', newValue)\n    } else {\n      props.updateValue('sa', customValue)\n    }\n  }\n\n  const list = {\n    none: props.labels.none,\n    dflt: props.labels.dflt,\n    custom: props.labels.custom\n  }\n\n  let option = (\n    <FormFieldList\n      name=\"sa\"\n      value={value}\n      dflt={'dflt'}\n      onChange={update}\n      label=\"po-bool-sa\"\n      updateValue={update}\n      list={list}\n    />\n  )\n  if (value === 'custom')\n    option = (\n      <React.Fragment>\n        {option}\n        <FormFieldSlider\n          name=\"customSa\"\n          value={saValue}\n          dflt={defaultSa[props.units]}\n          label=\"po-bool-sa\"\n          updateValue={updateCustom}\n          min={0}\n          max={25.4}\n          step={sliderStep[props.units]}\n        />\n      </React.Fragment>\n    )\n  return (\n    <li className={expanded ? 'expanded' : 'collapsed'}>\n      <OptionPreamble\n        dflt={saDfltToggle}\n        designDflt={'dflt'}\n        sameButDifferent={props.dflt !== props.value}\n        value={value}\n        desc={props.desc}\n        title={props.title}\n        id=\"po-list-sa\"\n        displayValue={formatMm(saValue, props.units)}\n        displayFormat=\"html\"\n        reset={reset}\n        patternReset={patternReset}\n        toggleExpanded={toggleExpanded}\n        expanded={expanded}\n        showHelp={() =>\n          props.raiseEvent('showHelp', {\n            type: 'draftSetting',\n            value: 'sa'\n          })\n        }\n        option={option}\n        noDocs={props.noDocs}\n      />\n    </li>\n  )\n}\n\nexport default DraftSettingSa\n","import React, { useState } from 'react'\nimport FormFieldSlider from '../../.form/FormFieldSlider'\nimport formatMm from '@freesewing/utils/formatMm'\nimport roundMm from '@freesewing/utils/roundMm'\nimport sliderStep from '@freesewing/utils/sliderStep'\nimport OptionPreamble from '../OptionPreamble'\n\nconst DraftSettingMargin = (props) => {\n  const [value, setValue] = useState(props.value === null ? props.dflt : props.value)\n  const [expanded, setExpanded] = useState(false)\n\n  const update = (name, newValue, evt) => {\n    newValue = roundMm(newValue)\n    // Sometimes, when sliding, the rapid succession of updates\n    // causes a weird timing issue to result in a value that is NaN.\n    // If that's the case, just ignore this update and keep the\n    // previous one instead\n    if (!isNaN(newValue)) {\n      setValue(newValue)\n      if (evt.type !== 'mousemove') props.updateValue('margin', newValue)\n    } else {\n      props.updateValue('margin', value)\n    }\n  }\n\n  const reset = () => {\n    setValue(props.dflt)\n    props.updateValue('margin', props.dflt)\n  }\n\n  const patternReset = () => {\n    setValue(props.designDflt)\n    props.updateValue('margin', props.designDflt)\n  }\n\n  const toggleExpanded = () => setExpanded(!expanded)\n\n  let option = (\n    <FormFieldSlider\n      name=\"customSa\"\n      value={value}\n      dflt={props.dflt}\n      label=\"po-slider-margin\"\n      updateValue={update}\n      min={0}\n      max={25.4}\n      step={sliderStep[props.units]}\n    />\n  )\n\n  return (\n    <li>\n      <OptionPreamble\n        dflt={props.dflt}\n        designDflt={props.designDflt}\n        value={value}\n        desc={props.desc}\n        title={props.title}\n        id=\"po-slider-margin\"\n        displayValue={formatMm(value, props.units)}\n        displayFormat=\"html\"\n        reset={reset}\n        patternReset={patternReset}\n        toggleExpanded={toggleExpanded}\n        expanded={expanded}\n        showHelp={() =>\n          props.raiseEvent('showHelp', {\n            type: 'draftSetting',\n            value: 'margin'\n          })\n        }\n        option={option}\n        noDocs={props.noDocs}\n      />\n    </li>\n  )\n}\n\nexport default DraftSettingMargin\n","import React from \"react\";\nimport PatternOptionBool from \"../PatternOptionBool\";\n\nexport default props => <PatternOptionBool {...props} name=\"complete\" />;\n","import React from \"react\";\nimport PatternOptionBool from \"../PatternOptionBool\";\n\nexport default props => <PatternOptionBool {...props} name=\"paperless\" />;\n","import React from 'react'\nimport PatternOptionBool from '../PatternOptionBool'\n\nexport default props => <PatternOptionBool {...props} name=\"advanced\" />\n","import React from 'react'\nimport PatternOptionBool from '../PatternOptionBool'\n\nexport default (props) => <PatternOptionBool {...props} name=\"debug\" />\n","import React, { useState } from 'react'\nimport FormFieldList from '../../.form/FormFieldList'\nimport OptionPreamble from '../OptionPreamble'\n\nconst DraftSettingUnits = props => {\n  const [value, setValue] = useState(props.dflt)\n  const [expanded, setExpanded] = useState(false)\n\n  const update = (name, newValue, evt) => {\n    props.updateValue(props.name, newValue)\n    setValue(newValue)\n  }\n\n  const reset = () => {\n    setValue(props.dflt)\n    props.updateValue(props.name, props.dflt)\n  }\n\n  const patternReset = () => {\n    setValue(props.designDflt)\n    props.updateValue(props.name, props.designDflt)\n  }\n\n  const toggleExpanded = () => setExpanded(!expanded)\n\n  let option = (\n    <FormFieldList\n      name=\"units\"\n      value={value}\n      dflt={props.dflt}\n      onChange={update}\n      label=\"po-bool-units\"\n      updateValue={update}\n      list={props.list}\n    />\n  )\n\n  return (\n    <li>\n      <OptionPreamble\n        dflt={props.dflt}\n        designDflt={props.designDflt}\n        value={value}\n        desc={props.desc}\n        title={props.title}\n        id=\"po-list-units\"\n        displayValue={props.list[value]}\n        reset={reset}\n        patternReset={patternReset}\n        toggleExpanded={toggleExpanded}\n        expanded={expanded}\n        showHelp={() =>\n          props.raiseEvent('showHelp', {\n            type: 'draftSetting',\n            value: 'units'\n          })\n        }\n        option={option}\n        noDocs={props.noDocs}\n      />\n    </li>\n  )\n}\n\nexport default DraftSettingUnits\n","import React, { useState } from 'react'\nimport FormFieldList from '../../.form/FormFieldList'\nimport OptionPreamble from '../OptionPreamble'\nimport { injectIntl } from 'react-intl'\nimport { languages } from '@freesewing/i18n'\n\nconst DraftSettingLanguage = (props) => {\n  const [value, setValue] = useState(props.value === null ? props.intl.locale : props.value)\n  const [expanded, setExpanded] = useState(false)\n\n  const update = (name, newValue, evt) => {\n    props.updateValue(props.name, newValue)\n    setValue(newValue)\n  }\n\n  const reset = () => {\n    setValue(props.dflt || props.intl.locale)\n    props.updateValue(props.name, props.dflt || props.intl.locale)\n  }\n  const patternReset = () => {\n    setValue(props.intl.locale)\n    props.updateValue(props.name, props.intl.locale)\n  }\n  const toggleExpanded = () => setExpanded(!expanded)\n\n  const option = (\n    <FormFieldList\n      name={props.name}\n      value={value}\n      dflt={props.dflt}\n      designDflt={props.intl.locale}\n      onChange={update}\n      label={'po-list-' + props.name}\n      updateValue={update}\n      list={languages}\n    />\n  )\n\n  return (\n    <li>\n      <OptionPreamble\n        dflt={props.dflt}\n        designDflt={props.intl.locale}\n        value={value}\n        desc={props.desc}\n        title={props.title}\n        id={'po-list-' + props.name}\n        displayValue={languages[value]}\n        reset={reset}\n        patternReset={patternReset}\n        toggleExpanded={toggleExpanded}\n        expanded={expanded}\n        showHelp={() =>\n          props.raiseEvent('showHelp', {\n            type: 'draftSetting',\n            value: props.name\n          })\n        }\n        option={option}\n        noDocs={props.noDocs}\n      />\n    </li>\n  )\n}\n\nexport default injectIntl(DraftSettingLanguage)\n","import React, { useState } from 'react'\nimport FormGroup from '@material-ui/core/FormGroup'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport Checkbox from '@material-ui/core/Checkbox'\n\nconst FormFieldChecks = (props) => {\n  const [value, setValue] = useState(props.dflt ? props.dflt : [])\n\n  const toggle = (part) => {\n    let parts = value.slice(0)\n    let index = parts.indexOf(part)\n    if (index === -1) parts.push(part)\n    else parts.splice(index, 1)\n    setValue(parts)\n    props.updateValue(props.name, parts)\n  }\n\n  return (\n    <FormGroup>\n      {Object.keys(props.checks).map((i) => {\n        return (\n          <FormControlLabel\n            control={\n              <Checkbox\n                checked={value.indexOf(i) === -1 ? false : true}\n                onChange={() => toggle(i)}\n                value={i}\n              />\n            }\n            label={props.checks[i]}\n            key={i}\n            className=\"po-list-item\"\n          />\n        )\n      })}\n    </FormGroup>\n  )\n}\n\nexport default FormFieldChecks\n","import React, { useState } from 'react'\nimport FormFieldChecks from '../../.form/FormFieldChecks'\nimport FormFieldList from '../../.form/FormFieldList'\nimport OptionPreamble from '../OptionPreamble'\n\nconst DraftSettingOnly = props => {\n  const [value, setValue] = useState(\n    props.value === null ? 'dflt' : props.value === false ? 'dflt' : 'custom'\n  )\n  const [parts, setParts] = useState(value === 'custom' ? props.value : props.customDflt)\n  const [expanded, setExpanded] = useState(false)\n\n  const update = (name, newValue, evt) => {\n    setValue(newValue)\n    if (newValue === 'dflt') props.updateValue('only', false)\n    else props.updateValue('only', parts)\n  }\n\n  let onlyDfltToggle = 'dflt'\n  if (props.dflt === 'custom' || Array.isArray(props.dflt)) onlyDfltToggle = 'custom'\n\n  const reset = () => {\n    setValue(onlyDfltToggle)\n    if (onlyDfltToggle === 'dflt') {\n      setParts([])\n      props.updateValue('only', false)\n    } else {\n      setParts(props.dflt)\n      props.updateValue('only', props.dflt)\n    }\n  }\n  const patternReset = () => {\n    setValue('dflt')\n    setParts([])\n    props.updateValue('only', false)\n  }\n\n  const updateCustom = (name, newValue, evt) => {\n    props.updateValue('only', newValue)\n    setParts(newValue)\n  }\n\n  const toggleExpanded = () => setExpanded(!expanded)\n\n  const list = {\n    dflt: props.labels.dflt,\n    custom: props.labels.custom\n  }\n\n  let option = (\n    <FormFieldList\n      name=\"only\"\n      value={value}\n      dflt={props.dflt}\n      designDflt={props.dflt}\n      onChange={update}\n      label=\"po-list-only\"\n      updateValue={update}\n      list={list}\n    />\n  )\n  if (value === 'custom')\n    option = (\n      <React.Fragment>\n        {option}\n        <FormFieldChecks\n          checks={props.parts}\n          name=\"parts\"\n          value={value}\n          dflt={parts}\n          onChange={updateCustom}\n          label=\"po-list-only\"\n          updateValue={updateCustom}\n          list={list}\n        />\n      </React.Fragment>\n    )\n\n  return (\n    <li>\n      <OptionPreamble\n        dflt={onlyDfltToggle}\n        designDflt=\"dflt\"\n        sameButDifferent={props.dflt !== props.value}\n        value={value}\n        desc={props.desc}\n        title={props.title}\n        id=\"po-list-only\"\n        displayValue={props.labels[value]}\n        reset={reset}\n        patternReset={patternReset}\n        toggleExpanded={toggleExpanded}\n        expanded={expanded}\n        showHelp={() =>\n          props.raiseEvent('showHelp', {\n            type: 'draftSetting',\n            value: 'only'\n          })\n        }\n        option={option}\n        noDocs={props.noDocs}\n      />\n    </li>\n  )\n}\n\nexport default DraftSettingOnly\n","import React, { useState } from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport DraftSettingSa from '../DraftSettingSa'\nimport DraftSettingMargin from '../DraftSettingMargin'\nimport DraftSettingComplete from '../DraftSettingComplete'\nimport DraftSettingPaperless from '../DraftSettingPaperless'\nimport DraftSettingAdvanced from '../DraftSettingAdvanced'\nimport DraftSettingDebug from '../DraftSettingDebug'\nimport DraftSettingUnits from '../DraftSettingUnits'\nimport DraftSettingLanguage from '../DraftSettingLanguage'\nimport DraftSettingOnly from '../DraftSettingOnly'\nimport RightIcon from '@material-ui/icons/KeyboardArrowRight'\n\nconst DraftSettings = ({\n  units = 'metric',\n  raiseEvent,\n  updateValue,\n  noDocs,\n  pattern,\n  config,\n  data = { settings: {} }\n}) => {\n  // State\n  const [expanded, setExpanded] = useState([])\n\n  // Building blocks\n  const noyes = [<FormattedMessage id=\"app.no\" />, <FormattedMessage id=\"app.yes\" />]\n  const hideshow = [<FormattedMessage id=\"app.hide\" />, <FormattedMessage id=\"app.show\" />]\n  const metricimperial = {\n    metric: <FormattedMessage id=\"app.metricUnits\" />,\n    imperial: <FormattedMessage id=\"app.imperialUnits\" />\n  }\n  const labels = {\n    sa: {\n      none: <FormattedMessage id=\"app.noSeamAllowance\" />,\n      dflt: <FormattedMessage id=\"app.standardSeamAllowance\" />,\n      custom: <FormattedMessage id=\"app.customSeamAllowance\" />\n    },\n    only: {\n      dflt: <FormattedMessage id=\"app.default\" />,\n      custom: <FormattedMessage id=\"app.custom\" />\n    },\n    paperless: noyes,\n    advanced: hideshow,\n    complete: hideshow,\n    debug: noyes\n  }\n  // Methods\n  const toggleGroup = (group) => {\n    let shown = expanded.slice(0)\n    let index = shown.indexOf(group)\n    if (index === -1) shown.push(group)\n    else shown.splice(index, 1)\n    setExpanded(shown)\n  }\n  const getDefault = (setting, pattern = false) => {\n    if (pattern && typeof pattern.settings[setting] !== 'undefined')\n      return pattern.settings[setting]\n    switch (setting) {\n      case 'sa':\n        return 10\n      case 'only':\n        return 'dflt'\n      case 'complete':\n        return true\n      case 'margin':\n        return 2\n      case 'units':\n        return units\n      case 'debug':\n        return false\n      default:\n        return false\n    }\n  }\n  const addProps = (setting) => {\n    let childProps = {\n      raiseEvent,\n      updateValue,\n      units,\n      key: setting,\n      name: setting,\n      labels: labels[setting],\n      noDocs,\n      dflt: getDefault(setting, pattern),\n      designDflt: getDefault(setting)\n    }\n    childProps.title = <FormattedMessage id={'settings.' + setting + '.title'} />\n    childProps.desc = <FormattedMessage id={'settings.' + setting + '.description'} />\n    if (setting === 'only') {\n      childProps.customDflt = []\n      childProps.parts = {}\n      if (config.draftOrder) {\n        for (let part of config.draftOrder)\n          childProps.parts[part] = <FormattedMessage id={'parts.' + part} />\n      }\n    }\n    if (typeof data.settings[setting] !== 'undefined') childProps.value = data.settings[setting]\n    else childProps.value = null\n\n    return childProps\n  }\n\n  const groups = {\n    advanced: [\n      <DraftSettingLanguage {...addProps('locale')} />,\n      <DraftSettingUnits {...addProps('units')} list={metricimperial} />,\n      <DraftSettingComplete {...addProps('complete')} />,\n      <DraftSettingMargin {...addProps('margin')} />,\n      <DraftSettingOnly {...addProps('only')} />,\n      <DraftSettingDebug {...addProps('debug')} />\n    ]\n  }\n\n  return (\n    <>\n      <ul className=\"config level-1 nogroups\">\n        <DraftSettingSa {...addProps('sa')} />\n        <DraftSettingPaperless {...addProps('paperless')} />\n        <DraftSettingAdvanced {...addProps('advanced')} />\n      </ul>\n      {data.settings.advanced && (\n        <ul className=\"config level-1\">\n          {Object.keys(groups).map((group) => {\n            let open = true\n            if (expanded.indexOf(group) === -1) open = false\n            let children = null\n            if (open) children = groups[group].map((component) => component)\n            return (\n              <React.Fragment key={group}>\n                <li className={open ? 'expanded' : 'collapsed'} key={group + '-ghead'}>\n                  <span onClick={() => toggleGroup(group)}>\n                    <RightIcon className={'icon-col-exp ' + (open ? 'expanded' : 'collapsed')} />\n                    <FormattedMessage id={'optiongroups.' + group} />\n                  </span>\n                </li>\n                {children}\n              </React.Fragment>\n            )\n          })}\n        </ul>\n      )}\n    </>\n  )\n}\n\nexport default DraftSettings\n","import React from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport PatternOptions from './PatternOptions'\nimport DraftSettings from './DraftSettings'\nimport TuneIcon from '@material-ui/icons/Tune'\nimport WrenchIcon from '@material-ui/icons/Build'\nimport PlayIcon from '@material-ui/icons/PlayCircleOutline'\n\nconst DraftConfigurator = ({\n  noDocs = false,\n  units = 'metric',\n  config = {},\n  data = {},\n  pattern,\n  updatePatternData,\n  raiseEvent,\n  actions = false\n}) => {\n  let childProps = {\n    noDocs,\n    units,\n    config,\n    data,\n    pattern,\n    raiseEvent\n  }\n  return (\n    <ul id=\"draft-config\">\n      {actions && (\n        <li>\n          <span>\n            <PlayIcon />\n            <FormattedMessage id=\"app.actions\" />\n          </span>\n          <ul className=\"config level-1\">{actions}</ul>\n        </li>\n      )}\n      <li>\n        <span>\n          <TuneIcon />\n          <FormattedMessage id=\"app.designOptions\" />\n        </span>\n        <PatternOptions\n          {...childProps}\n          updateValue={(name, value) => updatePatternData(value, 'settings', 'options', name)}\n        />\n      </li>\n      <li>\n        <span>\n          <WrenchIcon />\n          <FormattedMessage id=\"app.patternOptions\" />\n        </span>\n        <DraftSettings\n          {...childProps}\n          updateValue={(name, value) => updatePatternData(value, 'settings', name)}\n        />\n      </li>\n    </ul>\n  )\n}\n\nexport default DraftConfigurator\n"],"names":["PaddedSlider","withStyles","container","padding","track","height","thumb","width","Slider","FormFieldSlider","min","max","step","label","updateValue","name","value","useState","val","setVal","useEffect","update","evt","newValue","React","OptionPreamble","intl","title","desc","dflt","designDflt","option","displayValue","displayFormat","sameButDifferent","expanded","toggleExpanded","reset","designReset","styles","display","flexDirection","alignItems","left","flexGrow","margin","right","textAlign","resetLabel","formatMessage","id","defaultMessage","resetDesignLabel","resetPatternLabel","pattern","displayClass","dspValue","__html","RightIcon","IconButton","ResetIcon","injectIntl","PatternOptionPctDegCount","type","raiseEvent","noDocs","factor","round","Math","setExpanded","isNaN","patternReset","unit","props","PatternOptionMillimeter","units","roundMm","roundMmUp","roundMmDown","sliderStep","formatMm","Bool","labels","toggle","RadioGroup","JSON","stringify","FormControlLabel","Radio","PatternOptionBool","setValue","FormFieldBool","FormFieldList","target","Object","keys","list","map","item","index","PatternOptionList","stringKey","OptionSubGroup","children","open","setOpen","OptionGroup","renderOption","config","options","optionType","extraProps","optionDefault","FormattedMessage","key","data","settings","noyes","Mm","List","Error","output","subGroup","push","PatternOptions","toggleGroup","group","shown","slice","indexOf","splice","renderGroup","optionGroups","advanced","DraftSettingSa","defaultSa","saValue","setSaValue","customValue","setCustomValue","saDfltToggle","updateCustom","none","custom","DraftSettingMargin","DraftSettingUnits","DraftSettingLanguage","locale","languages","FormFieldChecks","part","parts","FormGroup","checks","i","Checkbox","DraftSettingOnly","customDflt","setParts","onlyDfltToggle","Array","isArray","DraftSettings","hideshow","metricimperial","metric","imperial","sa","only","paperless","complete","debug","getDefault","setting","addProps","childProps","draftOrder","groups","component","DraftConfigurator","updatePatternData","actions","PlayIcon","TuneIcon","WrenchIcon"],"mappings":"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"}